# GitHub source presets

# Provider-level config (applies to all GitHub presets)
_provider:
  response_key: items
  mappings:
    # Extract repo full name from repository_url (e.g., "https://api.github.com/repos/owner/repo")
    repository_full_name: "repository_url:/repos\\/([^/]+\\/[^/]+)$/"
  # Reprocess items when state changes (e.g., reopened issues)
  # Note: updated_at is NOT included because our own changes would trigger reprocessing
  reprocess_on:
    - state        # Detect reopened (closed -> open)

# Presets
my-issues:
  name: my-issues
  tool:
    mcp: github
    name: search_issues
  args:
    q: "is:issue assignee:@me state:open"
  item:
    id: "{html_url}"
  repo: "{repository_full_name}"

review-requests:
  name: review-requests
  tool:
    mcp: github
    name: search_issues
  args:
    q: "is:pr review-requested:@me state:open"
  item:
    id: "{html_url}"
  repo: "{repository_full_name}"

my-prs-feedback:
  name: my-prs-feedback
  tool:
    mcp: github
    name: search_issues
  args:
    q: "is:pr author:@me state:open review:changes_requested"
  item:
    id: "{html_url}"
  repo: "{repository_full_name}"
